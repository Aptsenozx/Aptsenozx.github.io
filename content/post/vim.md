---
title: "Linux Vim编辑器操作方法"
date: 2021-10-26T15:20:34+09:00
draft: false
cover: "/img/vim-cover.jpg"
images: 
  - "/img/vim-cover.jpg"
categories:
  - 学习笔记💻
tags:
  - CS
---

---

<!--more-->

## 打开文件

`vim` 直接打开或新建一个文件，光标置于第一行首部

`vim -r` 恢复上次打开时崩溃的文件

`vim -R` 将指定文件以只读方式放入vim中

`vim +` 打开文件，并将光标置于最后一行首部

`vim +n`打开文件，并将光标置于第n行首部

`vim +/[pattern]` 打开文件，并将光标置于第一个与[pattern]匹配的位置

`vim -c [command]` 在对文件进行编辑之前，先执行命令[command]

## 文件编辑

### 插入文本

`i` 打开插入编辑模式，在当前位置插入之后的文本

`I` 在光标所在行的行首插入随后输入的文本，行首是指该行第一个非空白字符

`o` 在光标所在行下一行插入新的一行

`O` 在光标所在行的上一行插入新的一行

`a` 在当前光标位置之后插入随后输入文本

`A`在当前光标所在行行尾插入随后文本

Insert模式中，在进行插入文本以外的操作时，先通过Esc键退出该模式

### 查找文本

`/[text]` 从光标所在位置向前查找字符串

`/^[text]` 查找以[text]为首的行

`/[text]$` 查找以[text]为尾的行

`?[text]` 从光标位置向后查找字符串

`n` 向同一方向重复上次的查找命令

`N` 向相反方向重复上次的查找命令

注意：查找是区分大小写的，若想忽略大小写查找，输入命令：`:set ic`，调整回来：`:set noic`

### 替换文本

`r` 替换光标所在位置字符

`R` 替换光标位置开始，与输入文本等长的字符，直到按Esc结束

`:s/a1/a2/g`  将当前光标所在行中，所有a1替换成a2

`:n1,n2s/a1/a2/g`  将文件第n1行到n2行中，所有a1替换成a2。n2省略表示到最后一行

`:g/a1/a2/g`  或`:%s/a1/a2/g`将文件中所有a1都替换成a2

### 删除文本

`x` 删除光标所在位置的字符

`dd` 删除光标所在行

`ndd` 删除当前行及其后n行文本

`dG` 删除光标所在行及之后所有文本

`D` 删除光标位置到行尾的文本

`:n1,n2d` 删除从n1到n2行内容

### 复制粘贴文本

`y` 复制选中的文本

`yy` 复制光标所在行，命令前加数字n表示复制n行

`p` 粘贴内容到光标后

`P` 粘贴内容到光标前

`yw` 将光标位置的词复制到剪贴板

## 保存及退出

`:wq` 保存并退出编辑器

`:wq!` 强制保存退出编辑器

`:q` 直接退出不保存

`:q!` 强制不保存退出（比如有编辑更改但是不想保留的时候）

`:w` 保存，但是不退出编辑器

`:w!` 强制保存文本

`:w filename` 另存到filename文件

`:x!` 保存并退出编辑器

`ZZ` 直接退出编辑器

## 参考

[Linux Vim基本操作（文件的打开和编辑）完全攻略（有图有真相）](http://c.biancheng.net/view/805.html)

---